<div>
  <img
    class="login-doctor-picture"
    src="assets/Pictures/blur-hospital-2.jpg"
    alt="Login Doctor Picture"
  />
</div>

<div class="container pt-5">
  <mat-card class="form">
    <h2 class="h2">Creează cont</h2>
    <form [formGroup]="registerForm" (submit)="submitForm()">
      <!-- choosing the role -->
      <mat-radio-group name="account_type" formControlName="role">
        <mat-radio-button class="mx-2" value="patient" checked="checked">
          Pacient
        </mat-radio-button>
        <mat-radio-button class="mx-2" value="doctor"> Medic </mat-radio-button>
      </mat-radio-group>
      <br />

      <!-- PATIENT REGISTER -->
      <ng-container *ngIf="isPatientSelected">
        <!-- Last Name -->
        <mat-form-field class="col-5 mt-3 mx-auto">
          <mat-label>Nume de familie</mat-label>
          <input
            type="text"
            matInput
            formControlName="lastName"
            placeholder="Ex. Frunză"
          />
          <mat-error *ngIf="registerForm.get('lastName')?.hasError('required')">
            Introduceți <strong>numele </strong>
          </mat-error>
        </mat-form-field>
        <br />

        <!-- First Name -->
        <mat-form-field class="col-5 mt-3 mx-auto">
          <mat-label>Prenume</mat-label>
          <input
            type="text"
            matInput
            formControlName="firstName"
            placeholder="Ex. Andra"
          />
          <mat-error
            *ngIf="registerForm.get('firstName')?.hasError('required')"
          >
            Introduceți <strong>prenumele</strong>
          </mat-error>
        </mat-form-field>
        <br />

        <!-- Email -->
        <mat-form-field class="col-5 mb-2 mx-auto">
          <mat-label>Email</mat-label>
          <input
            type="email"
            matInput
            formControlName="email"
            placeholder="Ex. email@gmail.com"
          />
          <mat-error
            *ngIf="
              registerForm.get('email')?.hasError('email') &&
              !registerForm.get('email')?.hasError('required')
            "
          >
            Introduceți o adresă de email validă
          </mat-error>
          <mat-error *ngIf="registerForm.get('email')?.hasError('required')">
            Introduceți <strong>adresa de email</strong>
          </mat-error>
        </mat-form-field>
        <br />

        <!-- phone number -->
        <mat-form-field class="col-5 mb-2 mx-auto">
          <mat-label>Număr de telefon</mat-label>
          <input type="text" matInput formControlName="phone" />
          <mat-error *ngIf="registerForm.get('phone')?.hasError('required')">
            Introduceți <strong>numărul</strong>
          </mat-error>
        </mat-form-field>
        <br />

        <!-- Password -->
        <mat-form-field class="col-5 mb-2 mx-auto">
          <mat-label>Parola</mat-label>
          <input type="password" matInput formControlName="password" />
          <mat-error *ngIf="registerForm.get('password')?.hasError('required')">
            Introduceți <strong>parola</strong>
          </mat-error>
        </mat-form-field>
        <br />
      </ng-container>

      <!-- DOCTOR REGISTER -->
      <ng-container *ngIf="isDoctorSelected">
        <!-- Last Name -->
        <mat-form-field class="col-5 mt-3 mx-auto">
          <mat-label>Nume de familie</mat-label>
          <input
            type="text"
            matInput
            formControlName="lastName"
            placeholder="Ex. Frunză"
          />
          <mat-error *ngIf="registerForm.get('lastName')?.hasError('required')">
            Introduceți <strong>numele </strong>
          </mat-error>
        </mat-form-field>
        <br />

        <!-- First Name -->
        <mat-form-field class="col-5 mt-3 mx-auto">
          <mat-label>Prenume</mat-label>
          <input
            type="text"
            matInput
            formControlName="firstName"
            placeholder="Ex. Andra"
          />
          <mat-error
            *ngIf="registerForm.get('doctorFirstName')?.hasError('required')"
          >
            Introduceți <strong>prenumele</strong>
          </mat-error>
        </mat-form-field>
        <br />

        <!-- Specializare -->
        <mat-form-field class="col-5 mt-3 mx-auto">
          <mat-label>Specializare</mat-label>
          <input
            type="text"
            matInput
            formControlName="specialization"
            placeholder="Ex. Neurologie"
          />
          <mat-error
            *ngIf="registerForm.get('specialization')?.hasError('required')"
          >
            Introduceți <strong>specializarea</strong>
          </mat-error>
        </mat-form-field>
        <br />

        <!-- Cabinet -->
        <mat-form-field class="col-5 mt-3 mx-auto">
          <mat-label>Cabinet</mat-label>
          <input
            type="text"
            matInput
            formControlName="cabinet"
            placeholder="Ex. Neurologie"
          />
          <mat-error *ngIf="registerForm.get('cabinet')?.hasError('required')">
            Introduceți <strong>cabinetul</strong>
          </mat-error>
        </mat-form-field>
        <br />

        <!-- Email -->
        <mat-form-field class="col-5 mb-2 mx-auto">
          <mat-label>Email</mat-label>
          <input
            type="email"
            matInput
            formControlName="email"
            placeholder="Ex. email@gmail.com"
          />
          <mat-error
            *ngIf="
              registerForm.get('email')?.hasError('email') &&
              !registerForm.get('email')?.hasError('required')
            "
          >
            Introduceți o adresă de email validă
          </mat-error>
          <mat-error *ngIf="registerForm.get('email')?.hasError('required')">
            Introduceți <strong>adresa de email</strong>
          </mat-error>
        </mat-form-field>
        <br />

        <!-- phone number -->
        <mat-form-field class="col-5 mb-2 mx-auto">
          <mat-label>Număr de telefon</mat-label>
          <input type="text" matInput formControlName="phone" />
          <mat-error *ngIf="registerForm.get('phone')?.hasError('required')">
            Introduceți <strong>numărul</strong>
          </mat-error>
        </mat-form-field>
        <br />

        <!-- Password -->
        <mat-form-field class="col-5 mb-2 mx-auto">
          <mat-label>Parola</mat-label>
          <input type="password" matInput formControlName="password" />
          <mat-error *ngIf="registerForm.get('password')?.hasError('required')">
            Introduceți <strong>parola</strong>
          </mat-error>
        </mat-form-field>
        <br />
      </ng-container>

      <!-- Submit button -->
      <button
        [disabled]="!registerForm.valid"
        mat-flat-button
        color="primary"
        type="submit"
        class="col-3 mt-2 mb-3"
      >
        Submit
      </button>
      <br />
      <ng-template [ngIf]="submitStatus">
        <span>Contul a fost creat cu succes!</span>
      </ng-template>
    </form>
  </mat-card>
</div>
